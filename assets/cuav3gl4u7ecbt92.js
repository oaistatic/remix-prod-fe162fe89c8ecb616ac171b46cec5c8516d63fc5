const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/glpl0dxdkjkaqo2r.js","assets/lklglvrzltpv3f05.js","assets/dr5q0mnwgdiuy1ac.js","assets/root-fllmzfn1.css","assets/dzdyz5bl3nzi5cph.js"])))=>i.map(i=>d[i]);
import{aV as Z,aW as K,en as R,o as X,F as $,bg as _,f as ee,S as b,f4 as D,cA as te,aw as E,b2 as se}from"./dr5q0mnwgdiuy1ac.js";import{j as e,c as L,r as w,a as ae,ac as O,ad as ne,e as oe,L as k,M as A}from"./lklglvrzltpv3f05.js";import{eG as ie,eH as T,bV as re,eI as le,eJ as de,eK as ce,eL as me,eM as ue,dP as z,eN as xe,dN as pe,aZ as V,cU as fe,d3 as he,eO as ve,eP as ge,eQ as je,eR as Ie,dQ as S,eS as we,be as H,dR as _e,bH as ye,ce as Ce,by as Se,eT as Ne,c0 as U,aN as Me,eU as be}from"./fn5bn67vlrtkutmt.js";import{u as G,P as ke}from"./gvzs5psd5zlducxo.js";const Te=Z(()=>K(()=>import("./glpl0dxdkjkaqo2r.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>t.SnorlaxFolderAnimation),{loading:({color:t})=>e.jsx(W,{color:t})}),ze={open:{opacity:1,y:0,transition:{duration:.15,ease:"easeOut"}},closed:{opacity:0,y:-5,transition:{duration:.15,ease:"easeIn"}}};function De({color:t,folderState:a,gizmoId:d,sidebarSnorlaxFolderStore:p}){const n=L(),[c,f]=w.useState(!1);return e.jsx(_,{side:"top",sideOffset:4,delayDuration:600,label:a==="open"?n.formatMessage(H.hideChatsForProjectTooltip):n.formatMessage(H.showChatsForProjectTooltip),children:e.jsx("button",{onClick:m=>{m.preventDefault(),a==="open"?p.collapseProject(d):p.expandProject(d)},className:"-m-0.5 flex rounded-xl p-0.5 text-token-text-secondary hover:bg-token-sidebar-surface-tertiary",onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:e.jsx("div",{className:"h-6 w-6",children:e.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-primary",children:e.jsx(Te,{isOpen:a==="open",isHovered:c,color:t})})})})})}function W({color:t}){return e.jsx("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center text-token-text-primary",children:e.jsx(ie,{className:"h-3/4 w-3/4",style:{color:t}})})}function Ee({gizmo:t,historyDisabled:a,section:d,onClick:p,isActive:n,hideOverflowMenu:c=!1,elementRef:f}){const{clientThreadId:m}=G(),h=R(m),i=L(),[u,j]=w.useState(!1),[x,r]=w.useState(!1),s=t.gizmo.id,o=T.useStore(),y=T.useState(l=>T.selectFolderState(l,s)),C=X(),Q=!!t.gizmo.tags?.includes(re.FirstParty),q=$(),J=ae(),v=le(),{items:N=[],hasNextPage:Y}=de(t.gizmo.id),g=ce(s),F=me(s,t.gizmo.display.theme);let M=!1;n&&g&&!(y==="open"&&h)&&(M=!0),w.useEffect(()=>{y!=="open"&&n&&h&&o.expandProject(s)},[n,h,o,s]);let I;if(t!=null)I=t.gizmo.display.name||ue;else{if(C==null)return null;a?I=i.formatMessage(z.clearChat):C.canInteractWithGizmos()?I=_e:I=i.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}const P=v!=null&&v.kind==="conversation"&&(v.gizmoId==null||v.gizmoId!=s);return e.jsxs(e.Fragment,{children:[e.jsx(O.div,{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},onDrop:l=>{l.preventDefault(),P&&(xe(q,i,J,v.conversationId,s,v.gizmoId),r(!1))},onDragOver:l=>{l.preventDefault(),P&&r(!0)},onDragLeave:()=>{r(!1)},children:e.jsx(pe,{loggingGizmoId:t?.gizmo.id??"primary",href:V(t),onClick:p,showActiveIndicator:M,isHovered:x,icon:g&&N.length>0?e.jsx(De,{color:F,folderState:y,gizmoId:s,sidebarSnorlaxFolderStore:o}):g?e.jsx(W,{color:F}):e.jsx(fe,{isFirstParty:Q,src:t?.gizmo.display.profile_picture_url,className:"h-6 w-6 shrink-0"}),isMenuOpen:u,label:I,rightIcon:d===he.Workspace&&e.jsx(_,{side:"right",label:i.formatMessage(B.workspaceRecommended,{workspace_name:C?.name??"Your Workspace"}),children:e.jsx(ve,{className:"icon-md text-token-text-secondary",alt:i.formatMessage(B.workspaceRecommended,{workspace_name:C?.name??"Your Workspace"})})}),hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(x||u)&&!c&&(g?e.jsx("div",{className:"text-token-text-tertiary",onClick:l=>{l.preventDefault()},children:e.jsx(ge,{gizmo:t,isOpen:u,setIsOpen:j})}):e.jsx("div",{className:"text-token-text-tertiary",onClick:l=>{l.preventDefault()},children:e.jsx(je,{gizmo:t,isOpen:u,setIsOpen:j,section:d})})),!g&&!c&&e.jsx(_,{side:"right",label:i.formatMessage(a?z.clearChat:z.newChat),className:"flex items-center",children:e.jsx("button",{className:u?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:a?e.jsx(Ie,{className:"icon-md"}):e.jsx(S,{className:"icon-md"})})})]}),elementRef:f})}),e.jsx(ne,{initial:!1,children:g&&y==="open"&&N.length>0&&e.jsx(O.div,{initial:"closed",animate:"open",exit:"closed",variants:ze,className:"overflow-hidden",children:e.jsx(we,{gizmoResource:t,serverThreadId:h,isOnProjectPage:M,conversations:N,hasNextPage:Y})},"nested-conversations")})]})}const B=ee({workspaceRecommended:{id:"gizmo.workspaceRecommended",defaultMessage:"Recommended at {workspace_name}"}});function Oe({onNewThread:t,className:a}){const d=oe(),p=L(),[n,c]=w.useState(!1),{clientThreadId:f,currentModelId:m}=G(),h=ye(),i=Ce(),u=m==null||i[m]===void 0?h.title:i[m].title,j=Se(f),x=j?Ne(j):void 0,r=x?V(x):void 0,s=p.formatMessage({id:"ownVps",defaultMessage:"New Chat"});return x===void 0||r===void 0?e.jsx(_,{label:s,open:n?!1:void 0,className:a,children:e.jsx(k,{to:"/",onClick:o=>{t?(o.preventDefault(),t()):b.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(U,{className:D.sidebarIcon,icon:e.jsx(S,{}),tabIndex:-1,label:s,style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}):e.jsx(_,{label:s,open:n?!1:void 0,className:a,children:e.jsx(te,{side:"bottom",open:n,sideOffset:4,onOpenChange:c,contentAlign:"start",triggerButton:e.jsx(U,{className:D.sidebarIcon,icon:e.jsx(S,{}),onClick:()=>{c(!0)},label:s,style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),size:"auto",children:e.jsxs("div",{className:"flex max-h-[50dvh] flex-col gap-2 overflow-x-auto px-2",children:[e.jsxs(k,{to:"/",className:"flex items-center gap-2 p-2 hover:bg-token-main-surface-secondary",onClick:o=>{r!==null?(o.preventDefault(),Me(d,r)):t?(o.preventDefault(),t()):b.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:[e.jsx(be,{className:"icon-md w-5 text-token-text-secondary"}),e.jsx("div",{className:E("grow overflow-hidden whitespace-nowrap"),dir:"auto",children:e.jsx(A,{id:"hDZn23",defaultMessage:"New Chat ({gpt_display_name})",values:{gpt_display_name:x.gizmo.display.name}})})]}),e.jsxs(k,{to:"/",className:"flex items-center gap-2 p-2 hover:bg-token-main-surface-secondary",onClick:o=>{t?(o.preventDefault(),t()):b.logEvent("chatgpt_web_thread_tap_new_thread")},children:[e.jsx(S,{className:"icon-md w-5 text-token-text-secondary"}),e.jsx("div",{className:E("grow overflow-hidden whitespace-nowrap"),dir:"auto",children:e.jsx(A,{id:"vpqOJy",defaultMessage:"New Chat ({model_title})",values:{model_title:u}})})]})]})})})}function Ae(){const{isUnauthenticated:t}=se(),{clientThreadId:a}=G();return t?null:e.jsx("div",{className:D.profileInContent,style:{viewTransitionName:"var(--vt-profile-avatar-thread)"},children:e.jsx(ke,{clientThreadId:a})})}export{Ae as C,Ee as G,Oe as a};
//# sourceMappingURL=cuav3gl4u7ecbt92.js.map
